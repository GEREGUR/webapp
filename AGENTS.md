# Agent Instructions

This document provides guidelines for AI agents working on this codebase.

## Project Overview

This is a Telegram Mini App built with React, TypeScript, and Vite. It follows the Feature-Sliced Design (FSD) architecture pattern with the following layers:

- **app** - Application initialization, global providers, and configuration
- **pages** - Page components and routing
- **widgets** - Complex reusable UI components composed of entities and features
- **features** - Business logic and user interactions
- **entities** - Domain models and business entities (user, wallet, tasks, battle-pass, order)
- **shared** - Reusable utilities, UI components, and API clients

## Naming Conventions

All files and directories must follow **kebab-case** naming (lowercase with hyphens):

- ✅ `src/pages/ton-connect-page/ton-connect-page.tsx`
- ✅ `src/shared/ui/display-data/display-data.tsx`
- ❌ `src/pages/TonConnectPage/TonConnectPage.tsx`
- ❌ `src/shared/ui/DisplayData/DisplayData.tsx`

## File Organization

Each feature/entity follows this structure:

```
entity-name/
├── index.ts          # Public API exports
├── api/
│   ├── index.ts
│   ├── api.ts        # API functions
│   └── api.dto.ts    # DTO types
├── model/
│   └── index.ts      # State management, stores
└── ui/               # UI components (if any)
```

## Commands

Always run these commands before completing work:

```bash
# Run linting to check code quality
pnpm run lint

# Build the application to check for TypeScript errors
pnpm run build
```

If linting fails, fix the issues. Do not commit changes with lint errors.

## Import Patterns

Use path aliases defined in `tsconfig.json`:

- `@/app/*` - Application layer
- `@/pages/*` - Page components
- `@/widgets/*` - Widget components
- `@/features/*` - Feature modules
- `@/entities/*` - Entity modules
- `@/shared/*` - Shared utilities and UI

Example:

```typescript
import { Page } from "@/shared/ui/page";
import { Root } from "@/widgets/root";
```

## Code Quality Standards

1. No AI-generated comments (remove any comments like "Generated by AI", "Created by Copilot", etc.)
2. No `console.log` statements in production code
3. All TypeScript errors must be resolved
4. Follow existing code patterns and conventions
5. ESLint rules must pass without warnings

## Technology Stack

- **React 19** - UI library
- **TypeScript** - Type safety
- **Vite** - Build tool and dev server
- **@tma.js/sdk-react** - Telegram Mini Apps SDK
- **@telegram-apps/telegram-ui** - Telegram UI components
- **@tonconnect/ui-react** - TON Connect integration
- **Tailwind CSS** - Utility-first CSS framework
- **ESLint** - Code linting

## Development

```bash
# Start development server with HTTPS (recommended for Telegram Mini Apps)
pnpm run dev:https

# Start without HTTPS
pnpm run dev

# Build for production
pnpm run build

# Run linter
pnpm run lint

# Fix linting issues automatically
pnpm run lint:fix

# Deploy to GitHub Pages
pnpm run deploy
```

## Testing Outside Telegram

The application uses `mockTelegramEnv` from `@tma.js/sdk-react` to simulate the Telegram environment during development. This is automatically enabled when running in dev mode outside of Telegram.

## Notes

- This project uses **ppnpm** as the package manager
- The project is configured for deployment to GitHub Pages
- SSL certificates are auto-generated for local development
- Some libraries only work within Telegram; the mock environment handles this for development
